# 🎮 使用指南

欢迎使用鲸娱秘境！本指南将帮助你快速上手。

## 📱 界面介绍

### 主页

打开应用后，你会看到欢迎页面：

- **游戏标题**：🐋 鲸娱秘境
- **功能特性**：
  - 💬 智能对话 - 与 AI NPC 实时交流
  - 📷 图像识别 - 拍照识别场景物品
  - 🎭 角色扮演 - 沉浸式剧情体验
- **开始游戏按钮**：点击进入聊天界面

### 聊天界面

#### 顶部导航栏
- **返回按钮** (←) - 返回主页
- **标题** - 显示"鲸娱秘境"
- **游戏状态** - 显示当前收集的物品
- **重置按钮** (🔄) - 重新开始游戏

#### 消息区域
- **AI 消息**（左侧白色气泡）
  - NPC 的回复和提示
  - 显示发送时间
- **用户消息**（右侧紫色气泡）
  - 你发送的文字
  - 你上传的图片

#### 输入区域（底部）
- **图片按钮** (🖼️) - 从相册选择图片
- **相机按钮** (📷) - 拍照上传
- **文本框** - 输入文字消息
- **发送按钮** - 发送消息

## 🎯 如何游戏

### 1. 开始游戏

```
主页 → 点击"开始游戏" → 进入聊天界面
```

系统会发送欢迎消息，介绍当前的游戏场景。

### 2. 与 NPC 对话

在输入框中输入你想说的话，然后：
- 按 **Enter 键** 发送
- 或点击 **发送按钮** (→)

**示例对话：**
```
你: 这里是哪里？
NPC: 欢迎来到警局，我是李队长...
```

### 3. 拍照识别物品

有两种方式：

#### 方式一：使用相机拍照
1. 点击 **相机按钮** (📷)
2. 允许浏览器访问摄像头
3. 对准要识别的物品
4. 点击 **拍照**
5. AI 会识别物品并给出回应

#### 方式二：上传图片
1. 点击 **图片按钮** (🖼️)
2. 从相册选择图片
3. AI 会识别并回复

**提示：** 拍摄清晰的照片有助于提高识别准确率！

### 4. 推进剧情

根据 NPC 的提示：
- 收集关键物品
- 与 NPC 对话了解线索
- 满足条件后会进入下一阶段

**游戏状态显示：** 顶部会显示你已收集的物品，如"当前状态：手机, 烟头"

### 5. 重置游戏

如果想重新开始：
1. 点击右上角 **重置按钮** (🔄)
2. 确认重置
3. 游戏从头开始

## 💡 游戏技巧

### 对话技巧
- ✅ 询问场景信息："这里有什么？"
- ✅ 请求提示："我应该做什么？"
- ✅ 角色扮演：保持沉浸感
- ❌ 避免跳出游戏设定的问题

### 图像识别技巧
- ✅ 拍摄清晰、光线充足的照片
- ✅ 物品在画面中央
- ✅ 避免背景杂乱
- ✅ 确保物品完整可见

### 剧情推进技巧
- 仔细阅读 NPC 的提示
- 注意场景中的关键物品
- 按顺序收集物品
- 多与 NPC 对话获取线索

## 🔧 常见问题

### Q: 相机无法打开？
**A:** 检查浏览器权限设置：
1. 点击地址栏左侧的锁图标
2. 确保"相机"权限为"允许"
3. 刷新页面重试

### Q: 图片上传失败？
**A:** 可能的原因：
- 图片文件过大（建议 < 5MB）
- 网络连接问题
- 后端服务未启动

### Q: AI 没有回复？
**A:** 检查：
1. 后端服务是否运行（http://localhost:8000）
2. .env 文件中的 API Key 是否正确
3. 查看浏览器控制台是否有错误

### Q: 游戏卡住了？
**A:** 尝试：
1. 点击重置按钮重新开始
2. 刷新页面
3. 检查后端日志

### Q: 消息显示不完整？
**A:** 向下滚动查看完整消息，系统会自动滚动到最新消息

## 🎨 界面定制

### 更换主题
当前版本使用紫色渐变主题。如需定制：
- 编辑 `frontend/src/pages/Home.css`
- 编辑 `frontend/src/pages/Chat.css`

### 修改配置
- 游戏剧本：`backend/config/police.yaml`
- API 地址：`frontend/src/services/api.ts`

## 📱 移动端使用

**推荐浏览器：**
- iOS: Safari
- Android: Chrome

**最佳体验：**
1. 添加到主屏幕使用
2. 全屏模式游戏
3. 确保网络连接稳定

## 🎭 游戏模式

当前支持的游戏模式：
- **警察模式** - 破案主题（默认）
- **道长模式** - 玄幻主题
- 更多模式开发中...

切换模式：编辑后端 `.env` 文件或在代码中指定配置文件。

## 🌟 进阶功能

### 自定义剧本
1. 复制 `backend/config/police.yaml`
2. 修改剧情、NPC 对话、物品设置
3. 在创建会话时指定新配置文件

### 添加新物品
在配置文件中添加：
```yaml
items:
  - name: "新物品"
    text: "NPC 对此物品的回复"
    img_path: "path/to/image.jpg"
```

## 📞 获取帮助

遇到问题？
1. 查看浏览器控制台（F12）
2. 查看后端日志
3. 检查 GitHub Issues
4. 联系开发团队

## 🎉 开始冒险

准备好了吗？点击"开始游戏"，开启你的鲸娱秘境之旅！

---

祝你游戏愉快！🐋
